<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="005.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="005.svg" />
  <link id="favicon" rel="icon" href="005.svg" type="image/svg+xml">
  <title>z.memos²⁰²⁴</title>
  <link rel="stylesheet" href="zlog.css">
  <link rel="stylesheet" href="/fonts/fonts.css">
  <style></style>

</head>

<body>
  <script>
  //  const favicons = [
  //    '001.svg',
  //    '002.svg',
  //    '003.svg',
  //    '004.svg',
  //    '005.svg',
  //    '006.svg',
  //    '007.svg',
  //    '008.svg',
  //    '009.svg',
  //    '010.svg',
  //    '011.svg',
  //    '012.svg'
  //  ];
  //  let currentFaviconIndex = 0;
  //  function changeFavicon() {
  //    const favicon = document.getElementById('favicon');
  //    currentFaviconIndex = (currentFaviconIndex + 1) % favicons.length;
  //    favicon.href = favicons[currentFaviconIndex];
  //  }
  //  setInterval(changeFavicon, 1000);
  </script>

  <button onclick="toggle()" class="toggle">◑</button>
  <button id="backToTop" title="Back To Top">
    <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18 15L12.2278 8.26574C12.108 8.12606 11.892 8.12606 11.7722 8.26574L6 15" stroke="#000000"
        stroke-width="2" stroke-linecap="round" />
    </svg>
  </button>

  <header style="display: none;">
    <h1>z.memos²⁰²⁴</h1>
    <p class="subtitle">Let the day go on and on</p>
  </header>

  <!-- Navbar -->
  <nav class="zl-navbar">
    <div class="zl-nav-container">
      <div class="zl-nav-logo"><a href="/">z.memos²⁰²⁴</a></div>

      <button class="zl-nav-toggle" id="zlNavToggle" aria-label="Toggle Navigation">
        <span></span><span></span><span></span>
      </button>

      <ul class="zl-nav-menu" id="zlNavMenu">
        <li><a href="/2024/" style="color:#1a4a4a;font-weight: bold;">2024</a></li>
        <li><a href="/2025/">2025</a></li>
        <li><a href="/">HOME</a></li>
        <li style="display: none;"><a href="/about/" target="_blank">关于</a></li>
        <li style="display: none;"><a href="https://blog.zlog.net/" target="_blank">BLOG</a></li>
      </ul>
    </div>
  </nav>

  <main>
    <div id="heatmap"></div>
    <div class="tooltip" id="tooltip"></div>
    <div class="memo-list" id="memoList">
      <div class="loading" id="loadingState">
        <p>正在加载备忘录数据...</p>
      </div>
    </div>
  </main>

  <!-- 图片模态框 -->
  <div id="imageModal" class="modal">
    <span class="close" id="closeModal">&times;</span>
    <div class="modal-navigation">
      <button class="nav-btn" id="prevBtn">&#10094;</button>
      <button class="nav-btn" id="nextBtn">&#10095;</button>
    </div>
    <div class="modal-content">
      <img class="modal-image" id="modalImage">
      <div class="modal-info" id="modalInfo"></div>
    </div>
  </div>

  <footer>
    <p class="data-source">数据源: <span id="dataSource">未设置</span></p>
  </footer>

  <script>
    let html = document.querySelector('html');
    html.setAttribute('data-theme', localStorage.getItem("themeName"));
    function toggle() {
      let html = document.querySelector('html');
      let currentTheme = html.getAttribute('data-theme');
      if (currentTheme === "dark") {
        html.setAttribute('data-theme', 'light');
        localStorage.setItem("themeName", 'light');
      } else {
        html.setAttribute('data-theme', 'dark');
        localStorage.setItem("themeName", 'dark');
      }
    }
  </script>

  <script>
    window.onscroll = function () {
      scrollFunction();
    };

    function scrollFunction() {
      var backToTopButton = document.getElementById("backToTop");
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        backToTopButton.style.display = "block";
      } else {
        backToTopButton.style.display = "none";
      }
    }

    document.getElementById("backToTop").onclick = function () {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    };
  </script>

  <script>
    // Mobile Toggle
    const zlToggle = document.getElementById('zlNavToggle');
    const zlMenu = document.getElementById('zlNavMenu');

    zlToggle.addEventListener('click', () => {
      zlToggle.classList.toggle('active');
      zlMenu.classList.toggle('active');
    });
  </script>

  <script src="heatmap.js"></script>
  <script src="zlog.js"></script>
  <script src="statistics.js"></script>
</body>

</html>